<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ứng Dụng Quản Lý Khu nghỉ dưỡng Furama</title>
    <link type="text/css" rel="stylesheet" href="table2.css">
</head>
<body>
<div id="div3"></div>
<div id="div4">
<p style="color: aliceblue">Ứng dụng quản lý khu nghỉ dưỡng Furama</p>
</div>
<table border="1" id="table1">
    <caption>
        <h3>Nhập thông tin cá nhân</h3>
    </caption>

    <tr>
        <td>
            Họ và tên
        </td>
        <td width="300px">
            <input type="text" style="width: 300px" id="ten"/>
        </td>
    </tr>
    <tr>
        <td>
            CMND
        </td>
        <td width="300px">
            <input type="text" style="width: 300px" id="cmt"/>
        </td>
    </tr>
    <tr>
        <td>
            Ngày tháng năm sinh
        </td>
        <td width="300px">
            <input type="date"  name="birthday" id="dateofbirth" style="width: 300px"/>
        </td>
    </tr>
    <tr>
        <td>
            Địa chỉ
        </td>
        <td width="300px">
            <input type="text" style="width: 300px" id="dc"/>
        </td>
    </tr>
    <tr>
        <td>
            Địa chỉ được giảm giá
        </td>
        <td width="300px">
            <select style="width: 308px" id="dc2">
                <option id="DN">Đà Nẵng giảm 20$</option>
                <option id="Hue">Huế Giảm 10$</option>
                <option id="QN">Quảng Nam giảm 5$</option>
                <option id="">Khác...</option>
            </select>
        </td>
    </tr>
    <tr>
        <td>
            Email
        </td>
        <td width="300px">
            <input type="email" name="email" style="width: 300px" id="mail"/>
        </td>
    </tr>
    <tr>
        <td>
            Loại customer
        </td>
        <td width="300px">
            <select style="width: 308px" id="cus">
                <option id="Dia">Diamond giảm 15$</option>
                <option id="Pla">Platinum giảm 10$</option>
                <option id="Go">Gold giảm 5$</option>
                <option id="Sli">Sliver giảm 2$</option>
                <option id="Mem">Member</option>
            </select>
        </td>
    </tr>
    <tr>
        <td>
            Số lượng đi kèm
        </td>
        <td width="300px">
            <input type="number" style="width: 300px" id="sl"/>
        </td>
    </tr>
    <tr>
        <td>
            Số ngày thuê
        </td>
        <td width="300px">
            <input type="number" id="snt" style="width: 300px"/>
        </td>
    </tr>
    <tr>
        <td>
            Loại dịch vụ
        </td>
        <td width="300px">
            <select style="width: 308px" id="loai">
                <option value="500">Villa 500$/ngày</option>
                <option value="300">House 300$/ngày</option>
                <option value="100">Room 100$/ngày</option>
            </select>
        </td>
    </tr>
    <tr>
        <td>
            Loại phòng thuê
        </td>
        <td width="300px">
            <select style="width: 308px" id="phong">
                <option>Vip</option>
                <option>Bussiness</option>
                <option>Normal</option>
            </select>
        </td>
    </tr>
</table>
<br>
<div id="div2">
<button type="button" onclick="aa()" id="nut 1">Nhập</button>
<button type="button" onclick="bb()" id="nut 2">Tính tiền</button>
</div>
<table border="1" id="table2">
    <caption>
        <h3>Hiện thông tin cá nhân</h3>
    </caption>
    <tr>
        <td  width="300px">
            Họ và tên
        </td>
        <td width="300px" height="30">
            <p id="ten1"></p>
        </td>
    </tr>
    <tr>
        <td  width="300px">
            CMND
        </td>
        <td width="300px">
            <p id="cmt1" ></p>
        </td>
    </tr>
    <tr>
        <td  width="300px">
            Ngày tháng năm sinh
        </td>
        <td width="300px">
            <p id="dateofbirth1"></p>
        </td>
    </tr>
    <tr>
        <td  width="300px">
            Địa chỉ
        </td>
        <td width="300px">
            <p id="dc1"></p>
        </td>
    </tr>
    <tr>
        <td  width="300px">
            Email
        </td>
        <td width="300px">
            <p id="mail1"></p>
        </td>
    </tr>
    <tr>
        <td  width="300px">
            Loại customer
        </td>
        <td>
            <p id="cus1"></p>
        </td>
    </tr>
    <tr>
        <td  width="300px">
            Số lượng đi kèm
        </td>
        <td width="300px">
            <p id="sl1"></p>
        </td>
    </tr>
    <tr>
        <td  width="300px">
            Số ngày thuê
        </td>
        <td width="300px">
            <p id="sn1"></p>
        </td>
    </tr>
    <tr>
        <td  width="300px">
            Loại dịch vụ
        </td>
        <td width="300px">
            <p id="loai1"></p>
        </td>
    </tr>
    <tr>
        <td  width="300px">
            Loại phòng thuê
        </td>
        <td width="300px">
            <p id="phong1"></p>
        </td>
    </tr>
    <tr>
        <td  width="300px" height="30">
            Số tiền phải trả
        </td>
        <td width="300px" height="30">
            <p id="giam1"></p>
        </td>
    </tr>

</table>

<br>

<p id="htt"> </p>
<div id="div1">
<p>Thuê trên 7 ngày được giảm 30$</p>
<p>Thuê từ 5 - 7 ngày được giảm 20$</p>
<p>Thuê từ 2 - 4 ngày được giảm 10$</p>
</div>

<script>

    function aa() {
        let tempname=""
        let a = document.getElementById("ten").value;
        a=a.trim().toLowerCase();
        for(let i=0;i<a.length;i++){
            if(a.charAt(i)===" "&&a.charAt(i+1)===" "){
                continue;
            }if(i===0||a.charAt(i-1)===" "){
                tempname+=a.charAt(i).toUpperCase();
                continue;
            }tempname+=a.charAt(i);
        } a=tempname;


        // let check=false;
        let b = document.getElementById("cmt");
        // do{
        //     if(!isNaN(b)){
        //         b= Number.parseFloat(b);
        //     }
        //     if (Number.isInteger(b)){
        //         alert("CMND phai la so");
        //         continue;
        //     }
        //     if (b<10000000 || b>99999999){
        //         alert("CMND ko du");
        //         continue;
        //     }
        //    check = true;
        // }while (!check){
        //     check = true;
        // }



        let c = document.getElementById("dateofbirth").value;
        let d = document.getElementById("dc").value;
        let e = document.getElementById("mail").value;
        let f = document.getElementById("cus").value;
        let g = document.getElementById("sl").value;
        let h = document.getElementById("snt").value;
        let i = document.getElementById("loai").value;
        let k = document.getElementById("phong").value;

        checkId("cmt", b, 9)

        document.getElementById("ten1").innerText = a;
        document.getElementById("cmt1").innerText = b;
        document.getElementById("dateofbirth1").innerText = c;
        document.getElementById("dc1").innerText = d;
        document.getElementById("mail1").innerText = e  ;
        document.getElementById("cus1").innerText = f;
        document.getElementById("sl1").innerText = g;
        document.getElementById("sn1").innerText = h;
        document.getElementById("loai1").innerText = i;
        document.getElementById("phong1").innerText = k;


        var email = document.getElementById('mail');
        var filter = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
        if (!filter.test(email.value)) {
            alert('Hay nhap dia chi email hop le.\nExample@gmail.com');
            email.focus;
            return false;
        }
        else{
            document.getElementById("mail1").innerHTML = email.value;
        }
    }

    function bb() {
        let address = document.getElementById("dc2").value;
        let customer = document.getElementById("cus").value;
        let snt2 = document.getElementById("snt").value;
        let Room= document.getElementById("loai").value;
        var totalmoney = Room*snt2 ;
        switch (address) {
            case "Đà Nẵng giảm 20$": totalmoney -= 20;
                break;
            case "Huế giảm 20$": totalmoney -= 10;
                break;
            case "Quảng Nam giảm 5$": totalmoney -= 5;
                break;
                }
        switch (customer) {
            case "Diamond giảm 15$": totalmoney = totalmoney - 15;
                break;
            case "Platinum giảm 10$": totalmoney = totalmoney - 10;
                break;
            case "Gold giảm 5$": totalmoney = totalmoney - 5;
                break;
            case "Sliver giảm 2$": totalmoney = totalmoney - 2;
                break;
            case "Member":  break;
        }
        if(snt2>7){
            totalmoney-=30;
        }else if(snt2>=5){
            totalmoney-=20;
        }else if(snt2>=2){
            totalmoney-=20;
        }
        document.getElementById("giam1").innerText= totalmoney + "$"
    }
    // ham kiem tra CMND
    function checkNumber(str) {
        if (isNumeric(str)) {
            return true;
        }
        return false;
    }
    function compareLength(str, length) {
        if (str && length) {
            if (str.length > length) {
                return 1;
            } else if (str.length < length) {
                return -1;
            } else {
                return 0;
            }
        }
        return 2;
    }
    function checkId(field, str) {
        let isNum = checkNumber(str);
        if (isNum === true) {
            let checkLength = compareLength(str, 9);
            if (checkLength === 0) {
                return true;
            } else {
                alert(field + ' khong du 9 ky tu');
            }
        } else {
            alert(field + ' khong phai la so');
        }
    }
    function isNumeric(number) {
        return parseFloat(number).toString() === number.toString();}

</script>
</body>
</html>